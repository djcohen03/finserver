{% extends '_base.html' %}
{% block body %}
<ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/tradable/{{ tradable.id }}">{{ tradable.name }}</a></li>
    <li class="active">{{ date }}</li>
</ol>


<div class="page-header">
    <h1>{{ tradable.name }} {{ date }} Data</h1>
</div>

<div class="row">
    <div class="col-sm-10 col-sm-offset-1">
        <div id="chart"></div>
    </div>
</div>


{% endblock %}

{% block script %}
<script type="text/javascript">
    var prices = {{ prices | tojson | safe }};
    var times = {{ times | tojson | safe }};
    $(function() {
        var options = {
            chart: {
                height: 350,
                type: 'line'
            },
            stroke: {
                curve: 'straight'
            },
            series: [{
                name: "Prices",
                data: prices
            }],
            grid: {
                row: {
                    colors: ['#f3f3f3', 'transparent'],
                    opacity: 0.5
                },
            },
            xaxis: {
                categories: times,
                tickAmount: 20
            }
        }

        var chart = new ApexCharts(
            document.querySelector("#chart"),
            options
        );

        chart.render();
    });
</script>
{% endblock %}
